<!DOCTYPE html>
<html>
<head>
<title>Login</title>
<link rel="stylesheet" href="styles.css">
</head>
<body class="login-bg">

<h1 class="title">LOG IN</h1>

<input id="email" placeholder="Email Address">
<input id="password" type="password" placeholder="PASSWORD">

<button id="loginBtn">LOG IN</button>

<div class="links">
  <span onclick="location.href='signup.html'">SIGN UP</span><br>
  <span onclick="forgotPassword()">FORGOT PASSWORD</span><br>
  <span onclick="location.href='queries.html'">QUERIES</span>
</div>

<script type="module">
import { auth } from "./firebase.js";
import { signInWithEmailAndPassword, sendPasswordResetEmail } from
"https://www.gstatic.com/firebasejs/9.23.0/firebase-auth.js";

document.getElementById("loginBtn").onclick = async () => {
  const email = email.value;
  const pass = password.value;
  try {
    await signInWithEmailAndPassword(auth, email, pass);
    location.href = "https://lihzoh7.github.io/Main-Menu/";
  } catch(e) {
    alert(e.message);
  }
};

window.forgotPassword = () => {
  sendPasswordResetEmail(auth, email.value)
    .then(()=>alert("Email sent"));
};
</script>
</body>
</html>
